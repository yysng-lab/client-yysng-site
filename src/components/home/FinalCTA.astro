---
const { data } = Astro.props;

// robust newline renderer
const renderText = (v = "") =>
  String(v)
    .replace(/\\n/g, "\n")     // literal "\n" from JSON / AI
    .replace(/\r\n/g, "\n")    // Windows newlines
    .replace(/\n/g, "<br />"); // HTML line breaks
---

<section class="py-24 md:py-28">
  <div class="container">
    <div class="text-col">
      <h2
        data-reveal-item
        class="mt-4 text-balance text-[color:var(--primary)]"
        set:html={renderText(data.heading)}
      ></h2>

      {data.description && (
        <p
          class="mt-6 text-[18px] leading-relaxed text-[color:var(--muted)]"
          set:html={renderText(data.description)}
        ></p>
      )}

      <div class="mt-10">
        <a
          href={data.button?.href}
          class="btn-primary inline-flex items-center gap-2"
        >
          <span>{data.button?.label}</span>
          <span aria-hidden="true" class="text-lg leading-none">â€º</span>
        </a>
      </div>
    </div>
  </div>
</section>