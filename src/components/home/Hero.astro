---
const { data } = Astro.props;

// robust newline renderer (handles both "\n" and "\\n")
const renderText = (v = "") =>
  String(v)
    .replace(/\\n/g, "\n")
    .replace(/\r\n/g, "\n")
    .replace(/\n/g, "<br />");
---


<section class="relative w-full">
  <div class="container">
    <!-- DENSE hero block. Height is intentionally < full viewport so next section can "peek" via overlap -->
    <div class="pt-12 md:pt-14 pb-20 md:pb-24">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">

        <!-- LEFT (60%) -->
        <div class="lg:col-span-7">
          <h1
            data-reveal-item
            class="text-balance"
            set:html={renderText(data.title)}
          ></h1>

          {data.subtitle && (
            <p
              class="mt-7 text-[18px] md:text-[19px] leading-relaxed max-w-[58ch] text-[color:var(--muted)]"
              set:html={renderText(data.subtitle)}
            ></p>
          )}

          {/* ONE CTA only (schema locked) */}
          {data.cta?.href && data.cta?.label && (
            <div class="mt-10">
              <a
                href={data.cta.href}
                class="btn-primary no-underline hover:no-underline"
              >
                {data.cta.label}
              </a>
            </div>
          )}
        </div>

        <!-- RIGHT (40%) â€” LCP image -->
          <div class="lg:col-span-5">
          <div class="visual-frame">
            <div class="aspect-[4/5] w-full relative overflow-hidden">
              <img
                src="/images/yy/hero-sit.jpg"
                alt="YY Sng working on a laptop"
                width="960"
                height="1200"
                fetchpriority="high"
                loading="eager"
                decoding="async"
                sizes="(min-width: 1024px) 40vw, 100vw"
                class="absolute inset-0 h-full w-full object-cover object-[55%_25%]"
              />
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>