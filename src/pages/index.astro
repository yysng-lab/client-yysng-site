---
export const prerender = false;

import Base from "../layouts/Base.astro";

import heroDefault from "../data/hero.json";
import ctaDefault from "../data/cta.json";

import Hero from "../components/home/Hero.astro";
import FinalCTA from "../components/home/FinalCTA.astro";

type HeroContent = typeof heroDefault;
type CtaContent = typeof ctaDefault;

const env = Astro.locals?.runtime?.env ?? {};

async function readKVOrDefault<T>(key: string, fallback: T): Promise<T> {
  if (!env.CONTENT_KV) return fallback;
  const raw = await env.CONTENT_KV.get(`${key}.json`);
  if (!raw) return fallback;
  try { return JSON.parse(raw) as T; } catch { return fallback; }
}

const hero = await readKVOrDefault<HeroContent>("hero", heroDefault);
const cta  = await readKVOrDefault<CtaContent>("cta", ctaDefault);


const homepageSEO = {
  title: "YY Sng â€” AI Operator",
  description:
    "I work across operations, strategy, and product â€” helping teams redesign execution so AI creates leverage instead of noise.",
  canonical: "https://yysng.me/",
  ogTitle: "AI doesnâ€™t fail inside companies. Workflows do.",
  ogDescription:
    "I work across operations, strategy, and product â€” helping teams redesign execution so AI creates leverage instead of noise.",
  ogType: "website",
  ogImage: "https://yysng.me/images/yy/og-main.webp", 
  keywords: "AI operator, workflow redesign, execution, operations, product, strategy",
};

const homepageJsonLd = [
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "YY Sng",
    "url": "https://yysng.me/",
    "sameAs": ["https://www.linkedin.com/in/yysng/"],
  },
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "YY Sng",
    "url": "https://yysng.me/",
    "inLanguage": "en",
  },
];
---

<Base
  title={homepageSEO.title}
  description={homepageSEO.description}
  canonical={homepageSEO.canonical}
  ogTitle={homepageSEO.ogTitle}
  ogDescription={homepageSEO.ogDescription}
  ogType={homepageSEO.ogType}
  ogImage={homepageSEO.ogImage}  <!-- ðŸ‘ˆ ADD THIS -->
  keywords={homepageSEO.keywords}
  jsonLd={homepageJsonLd}
>
  <main>

     <!-- HERO -->
    <Hero data={hero} />

    <!-- 2) EXECUTION SPINE â€” OPEN (Operator Fold peek via overlap; no extra background effects) -->
    <section
      id="execution-spine"
      class="-mt-12 md:-mt-16 pt-20 md:pt-24 pb-12 md:pb-14"
    >
      <div class="container">
        <div class="max-w-3xl">
          <h2 data-reveal-item class="text-balance">
            Most teams add AI to existing workflows.<br />
          </h2>

          <div class="mt-12 space-y-3 text-[20px] md:text-[22px] leading-snug text-[color:var(--muted)]">
            <p>Work speeds up.</p>
            <p>But decisions still bottleneck at the same places.</p>
            <p>Junior staff execute faster.</p>
            <p>Senior judgment doesn't scale.</p>
          </div>

          <p class="mt-12 text-[18px] leading-relaxed text-[color:var(--muted)] max-w-[70ch]">
            Inside operating companies, the pattern is consistent:
          </p>

          <p class="mt-3 text-[18px] leading-relaxed text-[color:var(--muted)] max-w-[70ch]">
            AI changes outcomes only when workflows change with it.
          </p>

          <p class="mt-3 text-[18px] leading-relaxed text-[color:var(--muted)] max-w-[70ch]">
            That's where I work.
          </p>
        </div>
      </div>
    </section>

 <!-- WHAT I BUILD â€” merged (no embeds, tight link rows) -->
<section id="work" class="pt-14 md:pt-18 pb-20 md:pb-24">
  <div class="container">

    <!-- Header -->
    <div class="max-w-3xl">
      <p class="text-sm font-semibold tracking-wide text-[color:var(--muted)]">
        What I Build
      </p>

      <h2 data-reveal-item class="mt-3 text-balance">
        Real builds. Real operating decisions.
      </h2>
    </div>

    <!-- Two blocks -->
    <div class="mt-14 grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-0 items-start">

      <!-- Block 1: AI-Ready Systems -->
      <div class="lg:col-span-5 lg:pr-10">
        <h3 class="text-[color:var(--ink)] leading-tight">
          <span class="whitespace-nowrap">AI-Ready Systems</span>
        </h3>

        <p class="mt-4 text-[16px] leading-relaxed text-[color:var(--muted)] max-w-[52ch]">
          Websites and workflows designed to evolve with AI, not wait for redesigns.
        </p>

        <ul class="mt-7 space-y-2 text-sm">
          <li>
            <a
              href="https://ezycoaching.client.seekingrowth.com/"
              class="inline-flex items-center gap-2 text-[color:var(--accent)] font-medium no-underline hover:no-underline hover:opacity-80 transition"
            >
              <span>EzyCoaching â€” AI-ready website. Updates messaging in minutes, not redesign cycles.</span>
              <span aria-hidden="true">â†’</span>
            </a>
          </li>

          <li>
            <a
              href="https://client-colinmcc-site.seekingrowth.com/"
              class="inline-flex items-center gap-2 text-[color:var(--accent)] font-medium no-underline hover:no-underline hover:opacity-80 transition"
            >
              <span>Colin MCC â€” Personal website, AI-assisted. From idea to live in one session.</span>
              <span aria-hidden="true">â†’</span>
            </a>
          </li>

          <li>
            <a
              href="/u/yysng/"
              class="inline-flex items-center gap-2 text-[color:var(--accent)] font-medium no-underline hover:no-underline hover:opacity-80 transition"
            >
              <span>Operator Link â€” Linktree for leaders, not influencers. Create yours</span>
              <span aria-hidden="true">â†’</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- Divider -->
      <div class="hidden lg:block lg:col-span-1">
        <div class="h-full w-px bg-[color:var(--border)] mx-auto"></div>
      </div>

      <!-- Block 2: Live Operating Labs -->
      <div class="lg:col-span-6 lg:pl-10">
        <h3 class="text-[color:var(--ink)] leading-tight">
          <span class="whitespace-nowrap">Live Operating Labs</span>
        </h3>

        <p class="mt-4 text-[16px] leading-relaxed text-[color:var(--muted)] max-w-[52ch]">
          Real implementations inside Laimi (travel startup, Vietnam operations).
        </p>

        <!-- Tight link rows (no embeds) -->
        <ul class="mt-7 space-y-2 text-sm">
          <li>
            <a
              href="https://www.linkedin.com/posts/yanyuansng_ran-a-linkedin-content-system-on-chatgpt-activity-7431940958671294464-jSQv"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-2 text-[color:var(--accent)] font-medium no-underline hover:no-underline hover:opacity-80 transition"
            >
              <span>ChatGPT plateau â†’ Claude rebuild (2-month system stress test) â†’</span>
              <span aria-hidden="true">â†’</span>
            </a>
          </li>

          <li>
            <a
              href="https://www.linkedin.com/posts/yanyuansng_inside-my-ai-playbook-what-im-actually-activity-7418804394982514688-oK12"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-2 text-[color:var(--accent)] font-medium no-underline hover:no-underline hover:opacity-80 transition"
            >
              <span>Inside my AI playbook: what I'm actually building â†’</span>
              <span aria-hidden="true">â†’</span>
            </a>
          </li>

          <li>
            <a
              href="https://www.linkedin.com/posts/yanyuansng_three-systems-same-ai-stack-same-blind-activity-7432212761679650817-AlsK"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-2 text-[color:var(--accent)] font-medium no-underline hover:no-underline hover:opacity-80 transition"
            >
              <span>Three systems running. All producing. None learning. â†’</span>
              <span aria-hidden="true">â†’</span>
            </a>
          </li>

          <li class="pt-2">
            <a
              href="https://www.linkedin.com/in/yanyuansng/"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-2 text-[color:var(--accent)] font-medium no-underline hover:no-underline hover:opacity-80 transition"
            >
              <span>More builds on LinkedIn</span>
              <span aria-hidden="true">â†’</span>
            </a>
          </li>
        </ul>
      </div>

    </div>
  </div>
</section>

    <!-- 5) FINAL CTA â€” VERY OPEN (copy locked) -->
    <FinalCTA data={cta} />
  </main>
</Base>